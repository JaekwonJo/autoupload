# Codex Sora2 Auto – Aurora Horizon Manual

> 2026년 10월 22일 · 버전 4.0 · 작성자: Codex GPT‑5 (ChatGPT)
>
> 본 매뉴얼은 Chrome DevTools 원격 디버깅 기반의 최신 자동화 플로우를 설명합니다. 프로그램은 감성 UI, 백그라운드 제어, 자동 Chrome 프로필을 지원합니다.

---

## 🌌 프로젝트 개요

### 목적
Sora Drafts 페이지(https://sora.chatgpt.com/drafts)에 **백그라운드로** 프롬프트를 자동 제출합니다. 프로그램이 전용 Chrome 창을 띄우고, 사용자는 자유롭게 다른 창에서 인터넷을 사용할 수 있습니다.

### 핵심 특징
- 🎨 **오로라 감성 UI**: Tkinter 기반 라운지형 인터페이스 + 실시간 로그 뷰어
- 🛰️ **DevTools Remote 제어**: Chrome을 `--remote-debugging-port` 모드로 실행하고 Selenium이 기존 탭에 직접 입력
- 🔒 **로그인 유지**: 사용자 데이터 디렉터리(`chrome_profile_plus`)에 쿠키를 저장하여 한 번 로그인하면 계속 유지
- ⏱️ **맞춤 스케줄러**: 기본 25분(1500초)에서 시작하며, UI에서 30초~3시간 사이로 자유롭게 조정 + 원클릭 즉시 실행
- 🛋️ **백그라운드 작업**: Sora 창을 앞에 두지 않아도 입력/제출이 진행됨
- 💾 **자동 복구**: `sora_state.json`에 진행 상황을 기록하여 재실행 시 이어서 처리
- 📜 **실시간 로그**: UI + `logs/` 폴더에 전체 이벤트 기록

---

## 🧰 기술 스택

| 구분 | 사용 기술 |
| --- | --- |
| 언어 | Python 3.9 이상 |
| UI | Tkinter, ttk |
| 자동화 | Selenium 4.x (DevTools attach) |
| 크롬 관리 | Chrome remote debugging, 사용자 데이터 디렉터리 |
| 로깅 | Python `logging`, ScrolledText 실시간 뷰 |
| OS | Windows 10/11 |

---

## 📂 폴더 구조

```
프로젝트 루트 /
├── sora_auto.py              # 메인 프로그램 (Aurora Horizon)
├── prompts.txt               # 프롬프트 목록 (||| 구분)
├── sora_config.json          # 실행 설정 (자동 생성)
├── sora_state.json           # 진행 상황 자동 저장 (완료 시 삭제)
├── chrome_profile_plus/      # 전용 Chrome 사용자 데이터 (자동 생성)
├── logs/                     # 실행 로그 폴더 (자동 생성)
│   └── sora_run_YYYYMMDD_HHMMSS.log
├── 1_처음설치.bat            # pip & Selenium 설치 스크립트
├── 2_프로그램실행.bat         # 자동화 실행 스크립트
├── README.txt                # 핵심 요약
├── ⭐여기부터_시작하세요.txt    # 초간단 가이드
└── 사용설명서.txt             # 친절한 사용 설명서
```

---

## ⚙️ 설정 (`sora_config.json`)

| 키 | 기본값 | 설명 |
| --- | --- | --- |
| `prompts_file` | `prompts.txt` | 프롬프트가 들어 있는 파일 이름 |
| `prompts_separator` | `|||` | 프롬프트 구분 기호 |
| `check_interval_seconds` | `1500` | 다음 프롬프트 입력까지 대기 시간(초). UI의 스핀박스로 조정하면 자동으로 갱신됨 |
| `status_update_seconds` | `60` | 대기 중 상태 메시지 업데이트 주기(초) |
| `prompts_per_cycle` | `1` | 한 번에 처리할 프롬프트 수 |
| `auto_resume` | `true` | 중단 후 자동 복구 여부 |
| `log_dir` | `logs` | 로그 저장 폴더 |
| `chrome_profile_dir` | `chrome_profile_plus` | Chrome 사용자 데이터 디렉터리 |
| `chrome_devtools_port` | `9222` | Chrome DevTools 포트 |
| `chrome_executable` | `""` | (선택) Chrome 실행 파일 경로 수동 지정 |
| `sora_url` | `https://sora.chatgpt.com/drafts` | 타깃 URL |

> config 파일은 실행 시 자동 생성·보정됩니다. 값을 바꾸면 프로그램을 재시작하세요.

---

## 📝 프롬프트 작성 규칙 (`prompts.txt`)

- 프롬프트는 `|||`로 구분합니다.
- 공백 줄은 자동으로 제거됩니다.
- UTF-8 인코딩 유지.
- 새롭게 시작하고 싶으면 `sora_state.json`을 삭제해도 됩니다.

예시:
```
은은한 별빛이 흐르는 도시 야경 영상 |||
강아지가 요가를 따라 하는 귀여운 장면 |||
몽환적인 수중 발레 댄스 쇼
```

---

## 🚀 실행 흐름

1. **설치** – `1_처음설치.bat` 실행 → pip, Selenium, WebDriver Manager 설치
2. **프롬프트 준비** – `prompts.txt` 작성 (`|||` 구분)
3. **자동 실행** – `2_프로그램실행.bat` → 감성 UI에서 `🌠 스타트`
4. **Chrome 초기화** – 프로그램이 `--remote-debugging-port` 옵션으로 전용 Chrome 창 시작 (한 번 로그인하면 쿠키 유지)
5. **타이머 조절** – 상단 `⏱️ 자동 간격` 스핀박스로 30초~3시간 사이 원하는 주기를 설정 (즉시 적용)
6. **자동 제출** – 설정된 간격에 맞춰 백그라운드에서 프롬프트 입력 & `Ctrl+Enter` 제출
7. **완료** – 모든 프롬프트를 처리하면 상태 파일 삭제 후 종료 안내

---

## 🎮 버튼 동작

| 버튼 | 설명 |
| --- | --- |
| `🌠 스타트` | 스케줄러 시작 + 첫 프롬프트 즉시 실행 |
| `⏸️ 일시정지` | 대기 상태 유지 |
| `▶️ 다시재생` | 일시정지 해제 후 즉시 다음 프롬프트 실행 |
| `⚡ 바로실행` | 대기 시간 무시하고 즉시 실행 |
| `🪽 건너뛰기` | 현재 대기 중인 프롬프트 제거 |
| `🔄 프롬프트 다시불러오기` | prompts.txt 변경 사항 재적용 |
| `🛑 종료` | 스케줄러 중지 (창은 유지) |

---

## ⏱️ 타이머 & 카운트다운

- 상단 `⏱️ 자동 간격` 스핀박스로 30초~10,800초(3시간) 범위에서 간격을 조절할 수 있습니다.
- 값이 바뀌면 바로 저장되고, 현재 대기 중이던 사이클도 새 간격을 기준으로 다시 계산합니다.
- 보라색 카운트다운에는 다음 자동 입력까지 남은 시간이 `MM:SS` 형식으로 실시간 표시됩니다.
- 일시정지 시 "⏸️ 일시정지 중"이 표시되고, 재개하면 남은 시간이 다시 감소합니다.

---

## 🔐 안정성 & 복구

- **자동 저장**: 각 프롬프트 처리 후 `sora_state.json`에 남은 목록과 완료 수 기록
- **자동 복구**: 재실행 시 상태 파일을 읽어 중단 지점부터 이어서 진행
- **로그**: `logs/` 폴더에 실행 로그를 저장하여 문제 분석에 활용
- **Chrome 프로필**: `chrome_profile_plus/` 디렉터리에 쿠키와 세션 유지 → 재로그인 최소화
- **DevTools Attach**: 이미 실행 중인 Chrome 창을 재활용하여 캡챠 트리거를 줄임

---

## ✅ 테스트 체크리스트

- [ ] 설치 스크립트 실행 후 Selenium & webdriver-manager가 정상 설치됨
- [ ] `prompts.txt`에 `|||` 구분 프롬프트 작성됨
- [ ] `🌠 스타트` 클릭 시 전용 Chrome 창이 뜨고 Sora 페이지가 열림
- [ ] 로그인 후 프롬프트 입력 영역이 인식됨 (로그에 안내 메시지 확인)
- [ ] 프롬프트가 자동으로 입력되고 `Ctrl+Enter` 혹은 제출 버튼으로 전송됨
- [ ] `⏸️/▶️/⚡/🪽` 버튼이 예상대로 작동함
- [ ] `⏱️ 자동 간격` 값을 바꾸면 즉시 저장되고 카운트다운에도 반영됨
- [ ] `logs/` 폴더에 실행 로그가 생성됨
- [ ] 프로그램 재시작 시 이전 진행 상황을 이어서 수행함

---

## 💡 확장 아이디어

- 다중 계정 지원: 프로필 디렉터리를 계정별로 분리
- 제출 성공 여부 감지를 위한 화면 캡처 또는 응답 파싱
- Discord/Slack Webhook 연동으로 작업 완료 알림
- 프롬프트 분류/우선순위 기능 추가
- Playwright/Pyppeteer 기반 비동기 제어 전환

---

## ⚠️ 주의사항

- OpenAI/Sora 서비스 약관을 준수하세요.
- DevTools 포트를 사용하는 Chrome 창을 임의로 닫으면 자동화가 중단됩니다.
- 같은 포트를 사용하는 다른 프로그램이 있으면 `chrome_devtools_port` 값을 변경하세요.
- Chrome 경로가 특이할 경우 `sora_config.json`의 `chrome_executable`에 전체 경로를 입력하세요.
- 로그인 세션이 만료되면 브라우저에서 다시 로그인 후 `▶️ 다시재생` 버튼을 눌러 주세요.

---

## 📎 참고 자료

1. `⭐여기부터_시작하세요.txt` – 3단계 초보자 가이드
2. `사용설명서.txt` – 친절 모드 설명서
3. `logs/` 폴더 – 문제 발생 시 로그 확인

행복한 자동화 여행 되세요! 🌠
